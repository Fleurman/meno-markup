var meno=function(){var e={version:"0.9.1",checkUpdates:function(){loadFile(function(n){try{var t=/version:"(.+?)"/.exec(n)[1];e.version<t?console.log("An updated Meno ("+t+") is available !\n(this Meno: "+e.version+")\nGo to https://github.com/Fleurman/meno-markup/ to get the lastest version."):console.log("this Meno ("+e.version+") is up to date ! :)")}catch(e){console.log(e,"Unable to connect to https://raw.githubusercontent.com/Fleurman/meno-markup/master/meno.min.js")}},"https://raw.githubusercontent.com/Fleurman/meno-markup/master/meno.min.js")}};return loadFile=function(e,n){var t=new XMLHttpRequest;t.onload=function(n){e(this.responseText)},t.open("GET",n,!0),t.send(null)},e.putRaw=function(e,n,t){loadFile(function(t){e[n]=t},t)},e.writeTo=function(e,n){loadFile(function(n){var t=n.split(/\r\n|\r|\n/);putIn(e,parse(t))},n)},e.displayTo=function(e,n){var t=n.split(/\r\n|\r|\n/);putIn(e,parse(t))},e.parsed=function(e){var n=e.split(/\r\n|\r|\n/);return parse(n)},putIn=function(e,n){e.innerHTML=n},parseRaw=function(e){for(var n={},t={id:0,isBlock:!1,isRaw:!1,list:0,container:[],blockid:0};void 0!==e[t.id];){var r,o,l=e[t.id].trim();if(1==t.isRaw)"><"==l?(t.blockid++,t.isRaw=!1):n[t.blockid].value+=l;else if(1==t.isBlock){if(r=/^(.*)(\]?)/.exec(l)){var a="]"==r[1][r[1].length-1],i=r[1].replace(/\]$/m,"");n[t.blockid].value+=" \n"+i,a&&(t.blockid++,t.isBlock=!1)}}else{if(r=/^(:{1,6})(\[)? (.+)/.exec(l))o={type:"header",priority:r[1].length,value:r[3]},r[2]&&(t.isBlock=!0);else if(r=/^(-{3,})$/.exec(l))o={type:"line"};else if(r=/^(-{3,})([^ -]+)/.exec(l))o={type:"colorline",value:r[2]};else if(r=/^_(.*):(.*)/.exec(l))o={type:"attr",name:r[1],value:r[2]};else if(r=/^<-(.*)<-/.exec(l))o={type:"marquee",value:r[1],direction:"left"};else if(r=/^->(.*)->/.exec(l))o={type:"marquee",value:r[1],direction:"right"};else if(r=/^<>(.*)<>/.exec(l))o={type:"navigation",value:r[1]};else if(r=/^_([^_]+)_(.*)/.exec(l))o={type:"container",tag:r[1]},t.container.push(r[1]),r[2]&&("#"==r[2][0]?o.id=r[2].slice(1,r[2].length):o.classname=r[2]);else if("___"==l&&t.container)o={type:"closecontainer",tag:t.container.pop()};else if(r=/^><$/.exec(l))o={type:"raw",value:""},t.isRaw=!0;else if(r=/^><(.+)/.exec(l))o={type:"raw",value:r[1]};else if(r=/^<_(\[)? (.+)/.exec(l))o={type:"sup",value:r[2]},r[1]&&(t.isBlock=!0);else if(r=/^>_(\[)? (.+)/.exec(l))o={type:"sub",value:r[2]},r[1]&&(t.isBlock=!0);else if(r=/^>([^>]+)(<|>)([^ ;]+)(.*)/.exec(l)){var c;if(o={type:"link",url:r[3]},"<"==r[2]&&(o.target="_self")," "!=r[1]?o.value=r[1]:o.value=r[3],r[4])(c=/;([^;]+);/.exec(r[4]))&&(o.download=c[1])}else(r=/^\[([^\[]*)\[(.+)/g.exec(l))?o={type:"image",alt:r[1],url:r[2]}:(r=/^(-*) (.+)/.exec(l))?o={type:"list-item",list:"u",value:r[2],indent:r[1].length}:(r=/^(\]*) (.+)/.exec(l))?o={type:"list-item",list:"o",value:r[2],indent:r[1].length}:(r=/^<(\[)? (.+)/.exec(l))?(o={type:"quote",value:r[2]},r[1]&&(t.isBlock=!0)):(r=/^-_-(\[)? (.+)/.exec(l))?(o={type:"comment",value:r[2]},r[1]&&(t.isBlock=!0)):(r=/^;(\[)? (.+)/m.exec(l))?(o={type:"code",value:r[2]},r[1]&&(t.isBlock=!0)):o="-"==l?{type:"return"}:":"==l?{type:"blank"}:(r=/^(.+)/.exec(l))?{type:"text",value:r[1]}:{type:"break"};"blank"!=o.type&&(n[t.blockid-1]&&"text"==o.type&&n[t.blockid-1].type==o.type?n[t.blockid-1].value+="\n"+o.value:(n[t.blockid]=o,0==t.isBlock&&0==t.isRaw&&t.blockid++))}t.id++}return n},parseText=function(e){var n=e;return n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/</g,"&lt;")).replace(/(^>| >)([^>]+)(&lt;|>)([^ ]+)( |$)/gm,replacer.link)).replace(/(^\[| \[)([^\]:]+?):(.+?)\](.| |$)/gm,replacer.hint)).replace(/(^__| __)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"sub"))).replace(/(^__| __)\[(.+?)\]( |$)/gm,replacer.sub)).replace(/(^\^\^| \^\^)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"sup"))).replace(/(^\^\^| \^\^)\[(.+?)\]( |$)/gm,replacer.sup)).replace(/(^&lt;&lt;| &lt;&lt;)([^ \n\.\[]+?)( |$)/gm,replacer.word.bind(null,"bold"))).replace(/(^&lt;&lt;| &lt;&lt;)\[(.+?)\]( |$)/gm,replacer.bold)).replace(/(^&lt;| &lt;)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"quote"))).replace(/(^&lt;| &lt;)\[(.+?)\]( |$)/gm,replacer.quote)).replace(/(^>>| >>)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"small"))).replace(/(^>>| >>)\[(.+?)\]( |$)/gm,replacer.small)).replace(/(^\^| \^)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"italic"))).replace(/(^\^| \^)\[(.+?)\]( |$)/gm,replacer.italic)).replace(/(^_| _)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"underline"))).replace(/(^_| _)\[(.+?)\]( |$)/gm,replacer.underline)).replace(/(^;| ;)([^ \n\.\[]+)( |$)/gm,replacer.word.bind(null,"code"))).replace(/(^;| ;)\[(.+?)\]( |$)/gm,replacer.code)).replace(/(^\[| \[)([^\[]+)\[([^ ]+)( |$)/gm,replacer.imageinline)).replace(/(^>&lt;| >&lt;)\[(.+?)\]( |$)/gm,replacer.raw)).replace(/(\200)/g,"<br>"),unescape(n)},parseLink=function(e){var n=e;return n=n.replace(/(^\[| \[)([^\[]+)\[([^ ]+)( |$)/gm,replacer.image)},replacer={getHTML:function(e,n){return"<"+e+">"+n+"</"+e+">"},raw:function(e,n,t,r){return t+r},quote:function(e,n,t,r){return" "+replacer.getHTML("q",t)+r},sub:function(e,n,t,r){return replacer.getHTML("sub",t)+r},sup:function(e,n,t,r){return replacer.getHTML("sup",t)+r},bold:function(e,n,t,r){return" "+replacer.getHTML("strong",t)+r},italic:function(e,n,t,r){return" "+replacer.getHTML("i",t)+r},small:function(e,n,t,r){return" "+replacer.getHTML("small",t)+r},code:function(e,n,t,r){return" <code meno-inblock >"+escape(t)+"</code> "+r},underline:function(e,n,t,r){return" <span meno-underline>"+t+"</span>"+r},link:function(e,n,t,r,o){var l=" "==t?o:t;return" <a href='"+o+"' target='"+(">"==r?"_blank":"_self")+"' "+addInlines()+">"+parseLink(l)+"</a> "},image:function(e,n,t,r){return"<img alt='"+t+"' src='"+r+"' title='"+t+"' />\n"},imageinline:function(e,n,t,r){return" <img alt='"+t+"' src='"+r+"' style='display:inline;' title='"+t+"' />\n"},hint:function(e,n,t,r,o){return' <span meno-tip="'+r+'">'+parseText(t)+"</span>"+o},title:function(e,n,t,r,o){return" "},lt:function(e,n){return"&lt;"+n},wordspace:function(e){return e.replace(/(_)/gm," ")},word:function(e,n,t,r,o,l){return replacer[e](n,t,replacer.wordspace(r),o)}},attr={},style={},attrList=["title","id","name","class"],styleList=["cursor","color","font","float"],addInlines=function(){var e="";return e+=addAttr(),e+=addStyle()},addAttr=function(){var e=Object.keys(attr);if(0==e.length)return"";var n=" ";for(i in e){var t=attr[e[i]];""!=t&&(n+=e[i]+'="'+t+'" ')}return n},addStyle=function(){var e=Object.keys(style);if(0==e.length)return"";var n=' style="';for(i in e){var t=style[e[i]];""!=t&&(n+=e[i]+":"+t+";")}return n+='"'},getTab=function(e){for(var n="",t=0;t<e;t++)n+="  ";return n},produceHTML=function(e){var n=0,t={},r=0,o=[],l="";for(n in e){if("list-item"==(t=e[n]).type){if(t.indent<r)for(var a=0;a<r-t.indent;a++)l+=o.pop();if(t.indent>r)for(a=0;a<t.indent-r;a++)l+=getTab(t.indent-1)+"<"+t.list+"l>\n",o.push(getTab(t.indent-1)+"</"+t.list+"l>\n");l+=getTab(t.indent)+"<li>"+parseText(t.value)+"</li>\n",r=t.indent}else{for(a=0;a<o.length;a++)l+=o.pop();r=0}switch(t.type){case"raw":l+=t.value+"\n";break;case"text":var i=parseText(t.value);l+="<p "+addInlines()+">"+i+"</p>\n";break;case"header":i=parseText(t.value);l+="<h"+t.priority+" "+addInlines()+">"+i+"</h"+t.priority+">\n";break;case"quote":i=parseText(t.value);l+="<blockquote "+addInlines()+">"+i+"</blockquote>\n";break;case"sub":i=parseText(t.value);l+="<sub "+addInlines()+">"+i+"</sub>\n";break;case"sup":i=parseText(t.value);l+="<sup "+addInlines()+">"+i+"</sup>\n";break;case"marquee":i=parseText(t.value);l+="<marquee direction='"+t.direction+"'>"+i+"</marquee>\n";break;case"navigation":l+="<nav>"+(i=parseText(t.value))+"</nav>\n";break;case"comment":l+="\x3c!--"+t.value+"--\x3e\n";break;case"code":l+="<code "+addInlines()+">"+t.value+"</code>\n";break;case"image":l+="<img "+addInlines()+"alt='"+t.alt+"' src='"+t.url+"' >\n";break;case"link":l+="<a "+addInlines()+"href='"+t.url+"' target='"+(t.target?t.target:"_blank")+"'",t.download&&(l+=" download='"+t.download+"'"),l+=" >"+parseLink(t.value)+"</a>\n";break;case"container":l+="\n<"+t.tag,t.classname&&(l+=" class='"+t.classname+"'"),t.id&&(l+=" id='"+t.id+"'"),l+=" >\n";break;case"closecontainer":l+="</"+t.tag+">\n";break;case"return":l+="\n<br>\n";break;case"line":l+="\n <hr "+addInlines()+"> \n";break;case"colorline":l+="\n<div meno-hr style='background-color:"+t.value+"'></div>\n";break;case"attr":""==t.name?(attr={},style={}):-1!=styleList.indexOf(t.name)?style[t.name]=t.value:-1!=attrList.indexOf(t.name)&&(attr[t.name]=t.value);break;default:l=l}}return l},parse=function(e){var n;return n=parseRaw(e),produceHTML(n)},e.css=".meno{font-family:Calibri}.meno code{display:block;background-color:#f5f5f5;color:#696969;font-family:consolas}.meno [meno-inblock],.meno nav,.meno ol,.meno ul{display:inline-block}.meno textarea{resize:none}.meno h1,h2,h3,h4,h5,h6{margin-bottom:-10px}.meno a{color:#87ceeb;text-decoration:none;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3}.meno article{font-family:Consolas}.meno nav{margin:5px;padding:0 5px;border-right:2px solid #d3d3d3;border-left:2px solid #d3d3d3;background-color:#fafafa}.meno nav a{border:none}.meno blockquote{font-style:italic;margin-left:1em}.meno blockquote:before{content:''' '}.meno blockquote:after{content:' '''}.meno ul{padding:5px;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ul ol,.meno ul ul{border:none;padding:2px;margin-left:20px}.meno ul>li{font-size:1.2em;font-weight:700;list-style-type:none}.meno ul>li:before{content:'| '}.meno ul ul>li{font-size:1.1em;font-weight:700;color:#696969}.meno ul ul>li:before{content:': ';color:#000}.meno ul ul ul>li{font-size:1.05em;font-weight:400;color:grey}.meno ul ul ul>li:before{content:'· ';color:#000}.meno ul ul ul ul>li{font-size:1em;font-weight:400;color:#000}.meno ul ul ul ul>li:before{content:'- ';color:#000}.meno ol{padding:5px;list-style-position:inside;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ol ol,.meno ol ul{border:none;padding:2px;margin-left:20px}.meno ol>li{font-size:1.2em;font-weight:700;border-bottom:1px dashed #d3d3d3}.meno ol ol>li{font-size:1.1em;font-weight:700;color:#696969;border-bottom:none}.meno ol ol ol>li{font-size:1.05em;font-weight:400;color:grey}.meno ol ol ol ol>li{font-size:1em;font-weight:400;color:#000}.meno [meno-hr]{height:2px;margin:1em 0}.meno [meno-underline]{text-decoration:underline}.meno [meno-tip]{position:relative;display:inline;border-bottom:1px dotted pink}.meno [meno-tip]::after{content:attr(meno-tip);font-size:13px;min-width:100px;min-heigh:100px;background-color:rgba(50,50,50,.8);color:#fff;border-bottom:2px solid orange;border-radius:10px 0;padding:3px 8px;position:absolute;bottom:100%;left:50%;opacity:0;visibility:hidden;transition:opacity .3s}.meno [meno-tip]:hover::after{opacity:1;visibility:visible}.meno [meno-tip]:hover{border:1px solid orange;margin:-1px;background-color:rgba(250,250,100,.1);cursor:help}.meno ::selection{background-color:orange;color:#fff}",e.addCSS=function(){var n=document.createElement("style");n.innerHTML=e.css;var t=document.getElementsByTagName("style"),r=document.getElementsByTagName("link");t.length>0?document.head.insertBefore(n,t[0]):r.length>0?document.head.insertBefore(n,r[0]):document.head.appendChild(n)},e.convert=function(){for(var n=document.querySelectorAll("script[type='text/meno']"),t=0;t<n.length;t++){var r=n[t].innerHTML,o=document.createElement("article");o.className="meno";for(var l=0;l<n[t].attributes.length;l++){var a=n[t].attributes[l];"type"!=a.name&&o.setAttribute(a.name,a.value)}o.className+=" meno",n[t].parentNode.insertBefore(o,n[t]),o.innerHTML=e.parsed(r),n[t].parentNode.removeChild(n[t])}},e}();