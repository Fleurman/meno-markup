var meno={version:"0.9.1"};meno.loadFile=function(e,n){const o=new XMLHttpRequest;o.onreadystatechange=function(n){this.readyState===XMLHttpRequest.DONE&&200===this.status&&e(this.responseText)},o.open("GET",n,!0),o.send(null)},meno.readFile=function(e){meno.loadFile(function(e){return e},e)},meno.putRaw=function(e,n,o){meno.loadFile(function(o){e[n]=o},o)},meno.writeTo=function(e,n){meno.loadFile(function(n){var o=n,t=o.split(/\r\n|\r|\n/);meno.setWin(e,meno.parse(t))},n)},meno.displayTo=function(e,n){var o=n.split(/\r\n|\r|\n/);meno.setWin(e,meno.parse(o))},meno.setWin=function(e,n){e.innerHTML=n},meno.parseRaw=function(e){for(var n={},o="",t=0,r=!1,a="",l=0;void 0!==e[t];){o=e[t],o=meno.skipSpace(o);var i,c;if(1==r){if(i=/^(.*)(\]?)/.exec(o)){var m="]"==i[1][i[1].lenght],p=i[1].replace(/\]$/m,"");n[l].value+="\n  \n"+p,m&&(l++,r=!1)}}else(i=/^(:{1,6})(\[)? (.+)/.exec(o))?(c={type:"header",priority:i[1].length,value:i[3]},i[2]&&(r=!0)):(i=/^(-{3,})$/.exec(o))?c={type:"line"}:(i=/^(-{3,})([^ -]+)/.exec(o))?c={type:"colorline",value:i[2]}:(i=/^_(.*)=(.*)/.exec(o))?c={type:"variable",name:i[1],value:i[2]}:(i=/^<-(.*)<-/.exec(o))?c={type:"marquee",value:i[1],direction:"left"}:(i=/^->(.*)->/.exec(o))?c={type:"marquee",value:i[1],direction:"right"}:(i=/^<>(.*)<>/.exec(o))?c={type:"navigation",value:i[1]}:(i=/^_([^_]+)_(.*)/.exec(o))?(c={type:"container",tag:i[1]},a=i[1],i[2]&&(c.classname=i[2])):"___"==o&&a?(c={type:"closecontainer",tag:a},a=""):(i=/^>([^>]+)>([^ ]+)/.exec(o))?(c={type:"link",url:i[2]}," "!=i[1]?c.value=i[1]:c.value=i[2]):(i=/^\[([^\[]*)\[(.+)/g.exec(o))?c={type:"image",alt:i[1],url:i[2]}:(i=/^(-*) (.+)/.exec(o))?c={type:"list-item",list:"u",value:i[2],indent:i[1].length}:(i=/^(\]*) (.+)/.exec(o))?c={type:"list-item",list:"o",value:i[2],indent:i[1].length}:(i=/^<(\[)? (.+)/.exec(o))?(c={type:"quote",value:i[2]},i[1]&&(r=!0)):(i=/^-_-(\[)? (.+)/.exec(o))?(c={type:"comment",value:i[2]},i[1]&&(r=!0)):(i=/^;(\[)? (.+)/m.exec(o))?(c={type:"code",value:i[2]},i[1]&&(r=!0)):c="-"==o?{type:"return"}:":"==o?{type:"blank"}:(i=/^(.+)/.exec(o))?{type:"text",value:i[1]}:{type:"break"},"blank"!=c.type&&(n[l-1]&&"text"==c.type&&n[l-1].type==c.type?n[l-1].value+="\n  \n"+c.value:(n[l]=c,0==r&&l++));t++}return n},meno.skipSpace=function(e){var n=e.search(/\S/);return-1==n?"":e.slice(n)},meno.parseText=function(e){var n=e;return n=n.replace(/(^<| <)([^< \[]+)( |$)/gm,meno.replace.quote),n=n.replace(/(^<| <)\[(.+)\]( |$)/gm,meno.replace.quote),n=n.replace(/(^<<| <<)([^ \[]+)( |$)/gm,meno.replace.bold),n=n.replace(/(^<<| <<)\[(.+)\]( |$)/gm,meno.replace.bold),n=n.replace(/(^>>| >>)([^ \[]+)( |$)/gm,meno.replace.small),n=n.replace(/(^>>| >>)\[(.+)\]( |$)/gm,meno.replace.small),n=n.replace(/(^_| _)([^ \[_]+)( |$)/gm,meno.replace.underline),n=n.replace(/(^_| _)\[([^\]_]+)\]( |$)/gm,meno.replace.underline),n=n.replace(/(^;| ;)\[(.+)\]( |$)/gm,meno.replace.code),n=n.replace(/(^;| ;)([^ \[]+)( |$)/gm,meno.replace.code),n=n.replace(/(^;| ;)(\[)( |$)/gm,meno.replace.code),n=n.replace(/(^>| >)([^>]+)>([^ ]+)( |$)/g,meno.replace.link),n=n.replace(/(^\[| \[)([^\]:]+):(.*)?\](.| |$)/g,meno.replace.hint),n=n.replace(/(\200)/g,"<br >")},meno.parseLink=function(e){var n=e;return n=n.replace(/\]([^\]]+)\](([^ ]+){1})/g,meno.replace.image)},meno.replace={code:function(e,n,o,t){return" <code style='display:inline-block;'>"+o+"</code> "+t},quote:function(e,n,o,t){return" <em>"+o+"</em> "+t},underline:function(e,n,o,t){return" <span style='text-decoration:underline;'>"+o+"</span>"+t},bold:function(e,n,o,t){return" <strong>"+o+"</strong>"+t},small:function(e,n,o,t){return" <small>"+o+"</small> "+t},link:function(e,n,o,t){var r=" "==o?t:o;return" <a href='"+t+"' target='_blank'>"+r+"</a> "},image:function(e,n,o){return"<img alt='"+n+"' src='"+o+"' />\n"},hint:function(e,n,o,t,r){return"<span class='tt'> "+meno.parseText(o)+"<span class='ttt'>"+t+"</span></span>"+r}},meno.produceHTML=function(e){var n=0,o={},t=0,r=[],a="";for(n in e){switch(o=e[n],o.type){case"list-item":if(o.indent<t){var l=0;for(l=0;l<t-o.indent;l++)a+=r.pop()}if(o.indent>t){var l=0;for(l=0;l<o.indent-t;l++)a+="<"+o.list+"l>\n";r.push("</"+o.list+"l>\n")}var i=meno.parseText(o.value);a+="<li>"+i+"</li>\n",t=o.indent;break;default:if(t>0){var l=0;for(l=0;t>l;l++)a+=r.pop()}t=0}switch(o.type){case"text":var i=meno.parseText(o.value);a+="<p>"+i+"</p>\n";break;case"header":a+="<h"+o.priority+">"+o.value+"</h"+o.priority+">\n";break;case"quote":var i=meno.parseText(o.value);a+="<blockquote>"+i+"</blockquote>\n";break;case"marquee":var i=meno.parseText(o.value);a+="<marquee>"+i+"</marquee>\n";break;case"navigation":var i=meno.parseText(o.value);a+="<nav>"+i+"</nav>\n";break;case"comment":a+="<!--"+o.value+"-->\n";break;case"code":a+="<code>"+o.value+"</code>\n";break;case"image":a+="<img alt='"+o.alt+"' src='"+o.url+"' />\n";break;case"link":a+="<a href='"+o.url+"' target='_blank'>"+meno.parseLink(o.value)+"</a>\n";break;case"container":a+="\n<"+o.tag,o.classname&&(a+=" class='"+o.classname+"'"),a+=" >\n";break;case"closecontainer":a+="</"+o.tag+">\n";break;case"return":a+="\n <br /> \n";break;case"line":a+="\n <hr /> \n";break;case"colorline":a+="\n<div style='height:2px;margin:1em 0;background-color:"+o.value+"'></div>\n";break;default:a=a}}return a},meno.parse=function(e){var n;n=meno.parseRaw(e);var o=meno.produceHTML(n);return o},meno.css='.meno{font-family:Calibri}.meno code{display:block;background-color:#f5f5f5;color:#696969;font-family:consolas}.meno textarea{resize:none}.meno h1,h2,h3,h4,h5,h6{margin-bottom:-10px}.meno a{color:#87ceeb;text-decoration:none;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3}.meno article{font-family:Consolas}.meno nav{margin:5px;display:inline-block;padding:0 5px;border-right:2px solid #d3d3d3;border-left:2px solid #d3d3d3;background-color:#fafafa}.meno nav a{border:none}.meno blockquote{font-style:italic;margin-left:1em}.meno ol,.meno ul{display:inline-block;margin-left:20px}.meno blockquote:before{content:"\'\' "}.meno blockquote:after{content:" \'\'"}.meno ul{padding:5px;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ul ul{border:none;padding:2px}.meno ul li{font-size:1.25em;font-weight:700;list-style-type:none}.meno ul li:before{content:"| "}.meno ul ul li{font-size:1.15em;font-weight:700;color:#696969}.meno ul ul li:before{content:": ";color:#000}.meno ul ul ul li{font-size:1.1em;font-weight:400;color:grey}.meno ul ul ul li:before{content:"· ";color:#000}.meno ul ul ul ul li{font-size:1em;font-weight:400;color:#000}.meno ul ul ul ul li:before{content:"- ";color:#000}.meno ol{padding:5px;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ol ol{border:none;padding:2px}.meno ol li{font-size:1.25em;font-weight:700}.meno ol ol li{font-size:1.15em;font-weight:700;color:#696969}.meno ol ol ol li{font-size:1.1em;font-weight:400;color:grey}.meno ol ol ol ol li{font-size:1em;font-weight:400;color:#000}.meno .tt{position:relative;display:inline;border-bottom:1px dotted pink}.meno .tt .ttt{font-size:13px;visibility:hidden;min-width:100px;background-color:rgba(50,50,50,.8);color:#fff;border-radius:10px 0;padding:3px 8px;position:absolute;z-index:1;bottom:100%;left:50%;opacity:0;transition:opacity .3s}.meno .tt .ttt:before{content:"";position:absolute;bottom:0;left:0;border-width:5px;border-style:solid;border-color:transparent transparent pink pink}.meno .tt:hover .ttt{visibility:visible;opacity:1}.meno .tt:hover{background-color:rgba(250,200,200,.1)}.meno ::selection{background-color:orange;color:#fff}',meno.addCSS=function(){var e=document.createElement("style");e.innerHTML=meno.css;var n=document.getElementsByTagName("style"),o=document.getElementsByTagName("link");n.length>0?document.head.insertBefore(e,n[0]):o.length>0?document.head.insertBefore(e,o[0]):document.head.appendChild(e)};