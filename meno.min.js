var meno=function(){var e={version:"0.9.8",checkUpdates:function(){lF(function(n){try{var t=/version:"(.+?)"/.exec(n)[1];e.version<t?console.log("An updated Meno ("+t+") is available !\n(this Meno: "+e.version+")\nGo to https://github.com/Fleurman/meno-markup/ to get the lastest version."):console.log("this Meno ("+e.version+") is up to date ! :)")}catch(e){console.log(e,"Unable to connect to https://raw.githubusercontent.com/Fleurman/meno-markup/master/meno.min.js")}},"https://raw.githubusercontent.com/Fleurman/meno-markup/master/meno.min.js")}};return lF=function(e,n){var t=new XMLHttpRequest;t.onload=function(n){e(this.responseText)},t.open("GET",n,!0),t.send(null)},e.putRaw=function(e,n,t){lF(function(t){e[n]=t},t)},e.writeTo=function(e,n){lF(function(n){var t=n.split(/\r\n|\r|\n/);pI(e,pr(t))},n)},e.displayTo=function(e,n){var t=n.split(/\r\n|\r|\n/);pI(e,pr(t))},e.parsed=function(e){var n=e.split(/\r\n|\r|\n/);return pr(n)},pI=function(e,n){e.innerHTML=n},pR=function(e){for(var n={},t={id:0,iB:!1,iR:!1,list:0,c:[],bI:0};void 0!==e[t.id];){var o,r,i=e[t.id].trim();if(1==t.iR)"><"==i?(t.bI++,t.iR=!1):n[t.bI].value+=i;else if(1==t.iB){if(o=/^(.*)(\]?)/.exec(i)){var l="]"==o[1][o[1].length-1],a=o[1].replace(/\]$/m,"");n[t.bI].value+=" \n"+a,l&&(t.bI++,t.iB=!1)}}else{if(o=/^(:{1,6})(\[)? (.+)/.exec(i))r={type:"header",priority:o[1].length,value:o[3]},o[2]&&(t.iB=!0);else if(o=/^(-{3,})$/.exec(i))r={type:"hr"};else if(o=/^(-{3,})([^ -]+)/.exec(i))r={type:"colorline",value:o[2]};else if(o=/^_(.*):(.*)/.exec(i))r={type:"attr",name:o[1],value:o[2]};else if(o=/^<-(.*)<-/.exec(i))r={type:"marquee",value:o[1],direction:"left"};else if(o=/^->(.*)->/.exec(i))r={type:"marquee",value:o[1],direction:"right"};else if(o=/^<>(.*)<>/.exec(i))r={type:"nav",value:o[1]};else if(o=/^_([^_]+)_(.*)/.exec(i))r={type:"container",tag:o[1]},t.c.push(o[1]),o[2]&&("#"==o[2][0]?r.id=o[2].slice(1,o[2].length):r.classname=o[2]);else if("___"==i&&t.c)r={type:"closecontainer",tag:t.c.pop()};else if(o=/^><$/.exec(i))r={type:"raw",value:""},t.iR=!0;else if(o=/^><(.+)/.exec(i))r={type:"raw",value:o[1]};else if(o=/^<_(\[)? (.+)/.exec(i))r={type:"sup",value:o[2]},o[1]&&(t.iB=!0);else if(o=/^>_(\[)? (.+)/.exec(i))r={type:"sub",value:o[2]},o[1]&&(t.iB=!0);else if(o=/^>([^>]+)(<|>)([^ ;]+)(.*)/.exec(i)){var c;if(r={type:"link",url:o[3]},"<"==o[2]&&(r.target="_self")," "!=o[1]?r.value=o[1]:r.value=o[3],o[4])(c=/;([^;]+);/.exec(o[4]))&&(r.download=c[1])}else(o=/^\[([^\[]*)\[(.+)/g.exec(i))?r={type:"image",alt:o[1],url:o[2]}:(o=/^(-*) (.+)/.exec(i))?r={type:"list-item",list:"u",value:o[2],indent:o[1].length}:(o=/^(\]*) (.+)/.exec(i))?r={type:"list-item",list:"o",value:o[2],indent:o[1].length}:(o=/^<(\[)? (.+)/.exec(i))?(r={type:"blockquote",value:o[2]},o[1]&&(t.iB=!0)):(o=/^-_-(\[)? (.+)/.exec(i))?(r={type:"comment",value:o[2]},o[1]&&(t.iB=!0)):(o=/^;(\[)? (.+)/m.exec(i))?(r={type:"code",value:o[2]},o[1]&&(t.iB=!0)):r="-"==i?{type:"br"}:":"==i?{type:"blank"}:(o=/^(.+)/.exec(i))?{type:"text",value:o[1]}:{type:"break"};"blank"!=r.type&&(n[t.bI-1]&&"text"==r.type&&n[t.bI-1].type==r.type?n[t.bI-1].value+="\n"+r.value:(n[t.bI]=r,0==t.iB&&0==t.iR&&t.bI++))}t.id++}return n},pT=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/</g,"&lt;")).replace(/(?: |^)>([^>]+)(&lt;|>)([^ ]+)(?: |$)/gm,R.link)).replace(/(?: |^)\[([^\]:]+?):(.+?)\](?: |$|)/gm,R.h)).replace(G.w("__"),R.w.bind(R,"sub"))).replace(G.b("__"),R.b.bind(R,"sub"))).replace(G.w("\\^\\^"),R.w.bind(R,"sup"))).replace(G.b("\\^\\^"),R.b.bind(R,"sup"))).replace(G.w("\\^"),R.w.bind(R,"i"))).replace(G.b("\\^"),R.b.bind(R,"i"))).replace(G.w("&lt;&lt;"),R.w.bind(R,"b"))).replace(G.b("&lt;&lt;"),R.b.bind(R,"b"))).replace(G.w("&lt;"),R.w.bind(R,"q"))).replace(G.b("&lt;"),R.b.bind(R,"q"))).replace(G.w(">>"),R.w.bind(R,"small"))).replace(G.b(">>"),R.b.bind(R,"small"))).replace(G.w("_"),R.w.bind(R,"u"))).replace(G.b("_"),R.b.bind(R,"u"))).replace(G.w(";"),R.wcode)).replace(G.b(";"),R.code)).replace(/(?: |^)\[([^\[]+)\[([^ ]+)(?: |$)/gm,R.il)).replace(G.b(">&lt;"),R.raw)).replace(/(\200)/g,"<br>"),unescape(e)},pL=function(e){var n=e;return n=n.replace(/(?: |^)\[([^\[]+)\[([^ ]+)(?: |$)/gm,R.im)},G={w:function(e){return new RegExp("(?: |^)"+e+"([^ \\n\\.\\[]+)(?: |$)","g")},b:function(e){return new RegExp("(?: |^)"+e+"\\[(.+?)\\](?: |$)","g")}},R={gH:function(e,n){return" <"+e+">"+n+"</"+e+"> "},gI:function(e,n,t){return' <img alt="'+e+'" src="'+n+'" '+(t?'style="display:inline;"':"")+' title="'+e+'" > '},raw:function(e,n){return n},code:function(e,n){return" <code meno-inblock >"+escape(n)+"</code> "},wcode:function(e,n){return R.code(e,R.ws(n))},link:function(e,n,t,o){return" <a href='"+o+"' target='"+(">"==t?"_blank":"_self")+"' "+aI()+">"+(" "==n?o:pL(n))+"</a> "},im:function(e,n,t){return R.gI(n,t)},il:function(e,n,t,o){return R.gI(t,o,!0)},h:function(e,n,t){return' <span meno-tip="'+t+'">'+pT(n)+"</span>"},lt:function(e,n){return"&lt;"+n},ws:function(e){return e.replace(/(_)/gm," ")},w:function(e,n,t){return R.gH(e,R.ws(t))},b:function(e,n,t){return R.gH(e,t)}},attr={},style={},aL=["title","id","name","class"],aL=["cursor","color","font","float"],aI=function(){var e="";return e+=aA(),e+=aS()},aA=function(){var e=Object.keys(attr);if(0==e.length)return"";var n=" ";for(i in e){var t=attr[e[i]];""!=t&&(n+=e[i]+'="'+t+'" ')}return n},aS=function(){var e=Object.keys(style);if(0==e.length)return"";var n=' style="';for(i in e){var t=style[e[i]];""!=t&&(n+=e[i]+":"+t+";")}return n+='"'},gT=function(e){for(var n="",t=0;t<e;t++)n+="  ";return n},sH=function(e,n,t){return"<"+e+(t?"":aI())+">"+pT(n)+"</"+e+">\n"},pH=function(e){var n=0,t={},o=0,r=[],i="";for(n in e){if("list-item"==(t=e[n]).type){if(t.indent<o)for(var l=0;l<o-t.indent;l++)i+=r.pop();if(t.indent>o)for(l=0;l<t.indent-o;l++)i+=gT(t.indent-1)+"<"+t.list+"l>\n",r.push(gT(t.indent-1)+"</"+t.list+"l>\n");i+=gT(t.indent)+"<li>"+pT(t.value)+"</li>\n",o=t.indent}else{for(l=0;l<r.length;l++)i+=r.pop();o=0}switch(t.type){case"raw":i+=t.value+"\n";break;case"text":i+=sH("p",t.value);break;case"header":i+=sH("h"+t.priority,t.value);break;case"sub":case"sup":case"code":case"nav":case"blockquote":i+=sH(t.type,t.value);break;case"marquee":var a=pT(t.value);i+="<marquee direction='"+t.direction+"'>"+a+"</marquee>\n";break;case"comment":i+="\x3c!--"+t.value+"--\x3e\n";break;case"image":i+="<img "+aI()+"alt='"+t.alt+"' src='"+t.url+"' >\n";break;case"link":i+="<a "+aI()+"href='"+t.url+"' target='"+(t.target?t.target:"_blank")+"'",t.download&&(i+=" download='"+t.download+"'"),i+=" >"+pL(t.value)+"</a>\n";break;case"container":i+="\n<"+t.tag,t.classname&&(i+=" class='"+t.classname+"'"),t.id&&(i+=" id='"+t.id+"'"),i+=" >\n";break;case"closecontainer":i+="</"+t.tag+">\n";break;case"br":case"hr":i+="\n<"+t.type+("hr"==t.type?aI():"")+">\n";break;case"colorline":i+="\n<div meno-hr style='background-color:"+t.value+"'></div>\n";break;case"attr":""==t.name?(attr={},style={}):-1!=aL.indexOf(t.name)&&(style[t.name]=t.value),attr[t.name]=t.value;break;default:i=i}}return i},pr=function(e){var n;return n=pR(e),pH(n)},e.css=".meno{font-family:Calibri}.meno code{display:block;background-color:#f5f5f5;color:#696969;font-family:consolas}.meno [meno-inblock],.meno nav,.meno ol,.meno ul{display:inline-block}.meno textarea{resize:none}.meno h1,h2,h3,h4,h5,h6{margin-bottom:-10px}.meno a{color:#87ceeb;text-decoration:none;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3}.meno article{font-family:Consolas}.meno nav{margin:5px;padding:0 5px;border-right:2px solid #d3d3d3;border-left:2px solid #d3d3d3;background-color:#fafafa}.meno nav a{border:none}.meno blockquote{font-style:italic;margin-left:1em}.meno blockquote:before{content:''' '}.meno blockquote:after{content:' '''}.meno ul{padding:5px;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ul ol,.meno ul ul{border:none;padding:2px;margin-left:20px}.meno ul>li{font-size:1.2em;font-weight:700;list-style-type:none}.meno ul>li:before{content:'| '}.meno ul ul>li{font-size:1.1em;font-weight:700;color:#696969}.meno ul ul>li:before{content:': ';color:#000}.meno ul ul ul>li{font-size:1.05em;font-weight:400;color:grey}.meno ul ul ul>li:before{content:'Â· ';color:#000}.meno ul ul ul ul>li{font-size:1em;font-weight:400;color:#000}.meno ul ul ul ul>li:before{content:'- ';color:#000}.meno ol{padding:5px;list-style-position:inside;border-top:2px solid #d3d3d3;border-bottom:2px solid #d3d3d3}.meno ol ol,.meno ol ul{border:none;padding:2px;margin-left:20px}.meno ol>li{font-size:1.2em;font-weight:700;border-bottom:1px dashed #d3d3d3}.meno ol ol>li{font-size:1.1em;font-weight:700;color:#696969;border-bottom:none}.meno ol ol ol>li{font-size:1.05em;font-weight:400;color:grey}.meno ol ol ol ol>li{font-size:1em;font-weight:400;color:#000}.meno [meno-hr]{height:2px;margin:1em 0}.meno [meno-underline]{text-decoration:underline}.meno [meno-tip]{position:relative;display:inline;border-bottom:1px dotted pink}.meno [meno-tip]::after{content:attr(meno-tip);font-size:13px;min-width:100px;min-heigh:100px;background-color:rgba(50,50,50,.8);color:#fff;border-bottom:2px solid orange;border-radius:10px 0;padding:3px 8px;position:absolute;bottom:100%;left:50%;opacity:0;visibility:hidden;transition:opacity .3s}.meno [meno-tip]:hover::after{opacity:1;visibility:visible}.meno [meno-tip]:hover{border:1px solid orange;margin:-1px;background-color:rgba(250,250,100,.1);cursor:help}.meno ::selection{background-color:orange;color:#fff}",e.addCSS=function(){var n=document.createElement("style");n.innerHTML=e.css;var t=document.getElementsByTagName("style"),o=document.getElementsByTagName("link");t.length>0?document.head.insertBefore(n,t[0]):o.length>0?document.head.insertBefore(n,o[0]):document.head.appendChild(n)},e.convert=function(){for(var n=document.querySelectorAll("script[type='text/meno']"),t=0;t<n.length;t++){var o=n[t].innerHTML,r=document.createElement("article");r.className="meno";for(var i=0;i<n[t].attributes.length;i++){var l=n[t].attributes[i];"type"!=l.name&&r.setAttribute(l.name,l.value)}r.className+=" meno",n[t].parentNode.insertBefore(r,n[t]),r.innerHTML=e.parsed(o),n[t].parentNode.removeChild(n[t])}},e}();